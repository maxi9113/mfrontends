{"ast":null,"code":"import React from 'react';\nimport { createPortal } from 'react-dom';\n\nconst Portal = props => {\n  const targetElement = props.targetElement;\n  return createPortal(props.children, targetElement);\n};\n\nconst createProxyComponent = options => {\n  const ShadowRoot = props => {\n    const shadowedRoot = options.webComponent.shadowRoot || options.webComponent.attachShadow({\n      mode: options.mode\n    });\n    options.shadowChildren.forEach(child => {\n      shadowedRoot.appendChild(child);\n    });\n    return React.createElement(Portal, {\n      targetElement: shadowedRoot\n    }, props.children);\n  };\n\n  return ShadowRoot;\n};\n\nconst componentMap = new WeakMap();\n\nconst createProxyRoot = (webComponent, shadowChildren) => {\n  return new Proxy({\n    open: null,\n    closed: null\n  }, {\n    get(_, mode) {\n      if (componentMap.get(webComponent)) {\n        return componentMap.get(webComponent);\n      }\n\n      const proxyComponent = createProxyComponent({\n        webComponent,\n        mode,\n        shadowChildren\n      });\n      componentMap.set(webComponent, proxyComponent);\n      return proxyComponent;\n    }\n\n  });\n};\n\nexport default createProxyRoot;","map":{"version":3,"sources":["/home/max-valeta/Documents/ALTO/react/container-mfs/mf-task/node_modules/direflow-component/dist/helpers/proxyRoot.js"],"names":["React","createPortal","Portal","props","targetElement","children","createProxyComponent","options","ShadowRoot","shadowedRoot","webComponent","shadowRoot","attachShadow","mode","shadowChildren","forEach","child","appendChild","createElement","componentMap","WeakMap","createProxyRoot","Proxy","open","closed","get","_","proxyComponent","set"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,WAA7B;;AACA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AACtB,QAAMC,aAAa,GAAGD,KAAK,CAACC,aAA5B;AACA,SAAOH,YAAY,CAACE,KAAK,CAACE,QAAP,EAAiBD,aAAjB,CAAnB;AACH,CAHD;;AAIA,MAAME,oBAAoB,GAAIC,OAAD,IAAa;AACtC,QAAMC,UAAU,GAAIL,KAAD,IAAW;AAC1B,UAAMM,YAAY,GAAGF,OAAO,CAACG,YAAR,CAAqBC,UAArB,IACdJ,OAAO,CAACG,YAAR,CAAqBE,YAArB,CAAkC;AAAEC,MAAAA,IAAI,EAAEN,OAAO,CAACM;AAAhB,KAAlC,CADP;AAEAN,IAAAA,OAAO,CAACO,cAAR,CAAuBC,OAAvB,CAAgCC,KAAD,IAAW;AACtCP,MAAAA,YAAY,CAACQ,WAAb,CAAyBD,KAAzB;AACH,KAFD;AAGA,WAAOhB,KAAK,CAACkB,aAAN,CAAoBhB,MAApB,EAA4B;AAAEE,MAAAA,aAAa,EAAEK;AAAjB,KAA5B,EAA6DN,KAAK,CAACE,QAAnE,CAAP;AACH,GAPD;;AAQA,SAAOG,UAAP;AACH,CAVD;;AAWA,MAAMW,YAAY,GAAG,IAAIC,OAAJ,EAArB;;AACA,MAAMC,eAAe,GAAG,CAACX,YAAD,EAAeI,cAAf,KAAkC;AACtD,SAAO,IAAIQ,KAAJ,CAAU;AAAEC,IAAAA,IAAI,EAAE,IAAR;AAAcC,IAAAA,MAAM,EAAE;AAAtB,GAAV,EAAwC;AAC3CC,IAAAA,GAAG,CAACC,CAAD,EAAIb,IAAJ,EAAU;AACT,UAAIM,YAAY,CAACM,GAAb,CAAiBf,YAAjB,CAAJ,EAAoC;AAChC,eAAOS,YAAY,CAACM,GAAb,CAAiBf,YAAjB,CAAP;AACH;;AACD,YAAMiB,cAAc,GAAGrB,oBAAoB,CAAC;AAAEI,QAAAA,YAAF;AAAgBG,QAAAA,IAAhB;AAAsBC,QAAAA;AAAtB,OAAD,CAA3C;AACAK,MAAAA,YAAY,CAACS,GAAb,CAAiBlB,YAAjB,EAA+BiB,cAA/B;AACA,aAAOA,cAAP;AACH;;AAR0C,GAAxC,CAAP;AAUH,CAXD;;AAYA,eAAeN,eAAf","sourcesContent":["import React from 'react';\nimport { createPortal } from 'react-dom';\nconst Portal = (props) => {\n    const targetElement = props.targetElement;\n    return createPortal(props.children, targetElement);\n};\nconst createProxyComponent = (options) => {\n    const ShadowRoot = (props) => {\n        const shadowedRoot = options.webComponent.shadowRoot\n            || options.webComponent.attachShadow({ mode: options.mode });\n        options.shadowChildren.forEach((child) => {\n            shadowedRoot.appendChild(child);\n        });\n        return React.createElement(Portal, { targetElement: shadowedRoot }, props.children);\n    };\n    return ShadowRoot;\n};\nconst componentMap = new WeakMap();\nconst createProxyRoot = (webComponent, shadowChildren) => {\n    return new Proxy({ open: null, closed: null }, {\n        get(_, mode) {\n            if (componentMap.get(webComponent)) {\n                return componentMap.get(webComponent);\n            }\n            const proxyComponent = createProxyComponent({ webComponent, mode, shadowChildren });\n            componentMap.set(webComponent, proxyComponent);\n            return proxyComponent;\n        },\n    });\n};\nexport default createProxyRoot;\n"]},"metadata":{},"sourceType":"module"}